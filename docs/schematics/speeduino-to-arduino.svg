<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" width="960" height="520" viewBox="0 0 960 520">
  <defs>
    <style>
      .title { font: bold 20px sans-serif; }
      .label { font: 14px sans-serif; }
      .small { font: 12px sans-serif; }
      .box { fill: #f7f7f7; stroke: #333; stroke-width: 2; }
      .port { fill: #fff; stroke: #555; stroke-width: 1.5; }
      .wire { stroke: #2a7; stroke-width: 3; }
      .wire-gnd { stroke: #222; stroke-width: 3; stroke-dasharray: 6 4; }
      .note { font: italic 12px sans-serif; fill: #555; }
      .bg { fill: #ffffff; }
    </style>
  </defs>
  <rect class="bg" x="0" y="0" width="960" height="520" />
  
  <!-- Title -->
  <text x="20" y="36" class="title">Speeduino ↔ Arduino Serial Wiring (115200 baud, 8N1)</text>
  <text x="20" y="58" class="note">Use common ground between Speeduino and Arduino. Connect only ECU TX → Arduino RX. Do not cross TX unless you also need bidirectional comms.</text>

  <!-- Speeduino box -->
  <rect x="40" y="100" width="260" height="180" rx="10" class="box" />
  <text x="60" y="125" class="label">Speeduino ECU</text>
  <!-- Ports -->
  <rect x="60" y="150" width="70" height="28" rx="6" class="port" />
  <text x="70" y="169" class="small">TX (Output)</text>
  <rect x="60" y="190" width="70" height="28" rx="6" class="port" />
  <text x="70" y="209" class="small">GND</text>

  <!-- Arduino Mega box -->
  <rect x="360" y="100" width="260" height="180" rx="10" class="box" />
  <text x="380" y="125" class="label">Arduino Mega 2560</text>
  <rect x="380" y="150" width="115" height="28" rx="6" class="port" />
  <text x="390" y="169" class="small">RX1 (PIN 19)</text>
  <rect x="380" y="190" width="115" height="28" rx="6" class="port" />
  <text x="390" y="209" class="small">GND</text>
  <rect x="380" y="230" width="115" height="28" rx="6" class="port" />
  <text x="390" y="249" class="small">RX3 (PIN 15)</text>
  <text x="500" y="248" class="note">Optional: if ECU outputs on Serial3</text>

  <!-- Arduino UNO box -->
  <rect x="680" y="100" width="240" height="180" rx="10" class="box" />
  <text x="700" y="125" class="label">Arduino UNO</text>
  <rect x="700" y="150" width="115" height="28" rx="6" class="port" />
  <text x="710" y="169" class="small">RX0 (PIN 0)</text>
  <rect x="700" y="190" width="115" height="28" rx="6" class="port" />
  <text x="710" y="209" class="small">GND</text>

  <!-- Wires: Speeduino TX -> Mega RX1 -->
  <path class="wire" d="M130,164 C 220,164 220,164 380,164" />
  <text x="240" y="155" class="small" fill="#2a7">TX → RX1 (Mega)</text>

  <!-- Wires: Speeduino TX -> UNO RX0 -->
  <path class="wire" d="M130,164 C 220,140 540,140 700,164" />
  <text x="460" y="132" class="small" fill="#2a7">TX → RX0 (UNO)</text>

  <!-- Ground wires (common) -->
  <path class="wire-gnd" d="M95,204 C 200,204 200,204 380,204" />
  <text x="240" y="196" class="small">GND → GND (Mega)</text>
  <path class="wire-gnd" d="M95,204 C 320,260 620,260 700,204" />
  <text x="520" y="252" class="small">GND → GND (UNO)</text>

  <!-- Notes -->
  <text x="40" y="320" class="note">Mega default uses Serial1 (RX1/PIN19). Switch to Serial3 (RX3/PIN15) if Speeduino Secondary IO is configured there.</text>
  <text x="40" y="340" class="note">UNO uses Serial (RX0/TX0). Avoid opening Serial Monitor while reading ECU data to prevent conflicts.</text>
  <text x="40" y="360" class="note">Baud rate: 115200, format 8N1. Ensure Speeduino and firmware match.</text>

  <!-- Footer -->
  <text x="40" y="400" class="small">Carvionics EFIS • Serial-only passive listener. No TX needed unless debugging or extended features.</text>
</svg>
